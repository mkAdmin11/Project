---

- hosts: novpn
  become: true
  become_user: root
  become_method: sudo
  gather_facts: yes
  vars_files:
    - secret.yml 
  tags:
    - novpn
    - test
    - start
    - openvpn
    - security

- hosts: novpn
  become: true
  become_user: root
  become_method: sudo
  vars_files:
    - secret.yml
  roles:
    - {role: test, tags: test}
    - {role: start, tags: start}
    - {role: openvpn, tags: openvpn}
    - {role: security, tags: security}
  tags:
    - novpn

- hosts: vpn
  become: true
  become_user: root
  become_method: sudo
  gather_facts: yes
  vars_files:
    - secret.yml
  tags:
    - vpn
    - vtest
    - bind9

- hosts: vpn
  become: true
  become_user: root
  become_method: sudo
  vars_files:
    - secret.yml
  roles:
    - {role: test, tags: vtest}
    - {role: bind9, tags: bind9}
  tags:
    - vpn

# postgreslq db
#web web
#certbot web
#www web
#mail web
#pgadmin web
#elastic elk
#logs vpn
#zabbix vpn
#grafana grafana
